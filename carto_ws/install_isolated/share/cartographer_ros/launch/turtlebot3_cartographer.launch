<!-- turtlebot3自带的包也有一个cartographer配置文件，在/opt/ros/melodic/share/turtlebot3_slam/launch/turtlebot3_cartographer.launch -->

<launch>

        <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi]"/>

        <!-- <arg name = "configuration_basename" default="turtlebot3_lds_2d.lua" /> -->
        <arg name="set_base_frame" default="base_link" />
        <arg name = "set_odom_frame" default="odom"/>
        <arg name = "set_map_frame" default="map"/>

    <param name="/use_sim_time" value="true" />

    <node name="cartographer_node" pkg="cartographer_ros"
        type="cartographer_node" args="
            -configuration_directory $(find cartographer_ros)/configuration_files
            -configuration_basename carto_rplidar.lua"
        output="screen">
        <!-- <remap from="scan" to="horizontal_laser_2d" /> -->
    </node>

    <node name="cartographer_occupancy_grid_node" pkg="cartographer_ros"
        type="cartographer_occupancy_grid_node" args="-resolution 0.05" /> 


    <node pkg="rviz" type="rviz" name="rviz" required="true" args="-d $(find cartographer_ros)/rviz/turtlebot3_carto.rviz"/> 
    <include file="$(find turtlebot3_bringup)/launch/turtlebot3_remote.launch">
      <arg name="model" value="$(arg model)" />
    </include> 

</launch>
